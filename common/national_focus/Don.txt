focus_tree = {
	id = don_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = DON
			has_global_flag = russian_civil_war
		}
	}
	continuous_focus_position = {
		x = 1500
		y = 600
	}

	shared_focus = WHI_white_beacon
	shared_focus = WHI_reach_to_the_world

	# Volunteer Army
	focus = {
		id = DON_Alekseev_organization
		icon = GFX_focus_secret_rearmament
		cost = 0.3
		x = 5
		y = 1
		prerequisite = {
			focus = WHI_white_beacon
		}
		available = {
			has_country_flag = alekseev_arrived
		}

		allow_branch = {
			tag = DON
			NOT = {
				is_subject_of = SOV
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = marxism
			}
		}

		bypass = {

		}

		available_if_capitulated = yes
	
		completion_reward = {
			hidden_effect = {
				division_template = {
					name = "Volunteer Regiment"
					priority = 2
					regiments = {
						infantry = { x = 0 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				division_template = {
					name = "Volunteer Cavalry Regiment"
					priority = 1
					regiments = {
						cavalry = { x = 0 y = 0 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				country_event = {
					id = ww1_don.8
					days = 2
				}
			}
			add_political_power = 25
			army_experience = 10
			add_ideas = DON_alekseev_organization_1
			custom_effect_tooltip = DON_Alekseev_organization_tt	
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}

	focus = {
		id = DON_fund_alekseev
		icon = GFX_focus_ENG_fund_the_army
		cost = 2
		x = -3
		y = 1	
		relative_position_id = DON_Alekseev_organization
		# offset = {
		# 	x = 1
		# 	trigger = {
		# 		is_cossack_tag = yes			
		# 	}
		# }

		available = {
		}

		bypass = {

		}

		prerequisite = {
			focus = DON_Alekseev_organization
		}

		available_if_capitulated = yes
	
		completion_reward = {
			add_political_power = -35
			if = {
				limit = {
					has_idea = DON_alekseev_organization_4
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_4
					add_idea = DON_alekseev_organization_5
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_3
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_3
					add_idea = DON_alekseev_organization_4
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_2
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_2
					add_idea = DON_alekseev_organization_3
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_1
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_1
					add_idea = DON_alekseev_organization_2
				}
			}
			custom_effect_tooltip = DON_fund_alekseev_tt		
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}

	focus = {
		id = DON_contact_czech_legion_leaders
		icon = GFX_focus_CZE_AUH_coat_of_arms
		cost = 2
		x = -1
		y = 1	
		relative_position_id = DON_Alekseev_organization
		# offset = {
		# 	x = 1
		# 	trigger = {
		# 		is_cossack_tag = yes			
		# 	}
		# }

		available = {
		}

		bypass = {

		}

		prerequisite = {
			focus = DON_Alekseev_organization
		}

		available_if_capitulated = yes
	
		completion_reward = {
			add_command_power = 15
			if = {
				limit = {
					has_idea = DON_alekseev_organization_4
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_4
					add_idea = DON_alekseev_organization_5
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_3
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_3
					add_idea = DON_alekseev_organization_4
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_2
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_2
					add_idea = DON_alekseev_organization_3
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_1
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_1
					add_idea = DON_alekseev_organization_2
				}
			}	
			custom_effect_tooltip = DON_czech_legion_contacted_tt
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}

	focus = {
		id = DON_open_broader_conscription
		icon = GFX_focus_generic_limited_social_mobilization
		cost = 2
		x = 1
		y = 1	
		relative_position_id = DON_Alekseev_organization
		# offset = {
		# 	x = 1
		# 	trigger = {
		# 		is_cossack_tag = yes			
		# 	}
		# }

		available = {
		}

		bypass = {

		}

		prerequisite = {
			focus = DON_Alekseev_organization
		}

		available_if_capitulated = yes
	
		completion_reward = {
			hidden_effect = {
				country_event = {
					id = ww1_don.9
					days = 30
				}
			}
			add_timed_idea = {
				idea = DON_volunteer_recruiting_campaign
				days = 14
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_4
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_4
					add_idea = DON_alekseev_organization_5
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_3
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_3
					add_idea = DON_alekseev_organization_4
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_2
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_2
					add_idea = DON_alekseev_organization_3
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_1
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_1
					add_idea = DON_alekseev_organization_2
				}
			}
			custom_effect_tooltip = DON_open_broader_conscription_tt
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}

	focus = {
		id = DON_restore_kornilov_regiment
		icon = GFX_focus_generic_little_entente
		cost = 2
		x = 3
		y = 1	
		relative_position_id = DON_Alekseev_organization
		# offset = {
		# 	x = 1
		# 	trigger = {
		# 		is_cossack_tag = yes			
		# 	}
		# }

		available = {
			has_country_flag = kornilovites_arrived
		}

		bypass = {

		}

		prerequisite = {
			focus = DON_Alekseev_organization
		}

		available_if_capitulated = yes
	
		completion_reward = {
			hidden_effect = {
				245 = {
					create_unit = {
						division = "name = \"Kornilovskiy polk\" division_template = \"Volunteer Regiment\" start_experience_factor = 2 start_equipment_factor = 0.2"
						owner = DON
						allow_spawning_on_enemy_provs = yes
						prioritize_location = 3147
						count = 1
					}
				}
			}
			army_experience = 25
			if = {
				limit = {
					has_idea = DON_alekseev_organization_4
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_4
					add_idea = DON_alekseev_organization_5
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_3
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_3
					add_idea = DON_alekseev_organization_4
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_2
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_2
					add_idea = DON_alekseev_organization_3
				}
			}
			if = {
				limit = {
					has_idea = DON_alekseev_organization_1
				}
				swap_ideas = {
					remove_idea = DON_alekseev_organization_1
					add_idea = DON_alekseev_organization_2
				}
			}
			custom_effect_tooltip = DON_restore_kornilov_regiment_tt	
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}

	focus = {
		id = DON_volunteer_army
		icon = GFX_focus_RUS_Kaledin_Alekseev_Kornilov_triumvirate
		cost = 2
		x = 0
		y = 2	
		relative_position_id = DON_Alekseev_organization
		# offset = {
		# 	x = 1
		# 	trigger = {
		# 		is_cossack_tag = yes			
		# 	}
		# }

		available = {
		}

		bypass = {

		}

		prerequisite = {
			focus = DON_fund_alekseev
		}
		prerequisite = {
			focus = DON_contact_czech_legion_leaders
		}
		prerequisite = {
			focus = DON_open_broader_conscription
		}
		prerequisite = {
			focus = DON_restore_kornilov_regiment
		}

		available_if_capitulated = yes
	
		completion_reward = {
			country_event = ww1_don.7	
		}

		search_filters = { FOCUS_FILTER_ARMY_XP }
		ai_will_do = {
			factor = 100
		}
	}
}
